{% extends "base.html" %}
{% block title %}Record Payment{% endblock %}

{% block content %}
<div class="page-header">
  <h1>Record Payment</h1>
  <p class="page-subtitle">
    Invoice #{{ invoice.id }} — Patient: {{ invoice.patient.full_name|default:invoice.patient }}
    — Amount: {{ invoice.total }}
  </p>
</div>

<form method="post" class="card form">
  {% csrf_token %}
  <div class="form-row">
    <label for="id_method">Payment Method</label>
    <select id="id_method" name="method" required>
      <option value="CASH">Cash</option>
      <option value="MPESA">M-Pesa</option>
    </select>
  </div>

  <div class="form-row">
    <label for="id_reference">
      Reference (M-Pesa Code or Receipt)
      <span class="muted">(optional for cash)</span>
    </label>
    <input type="text" id="id_reference" name="reference" />
  </div>

  <button type="submit" class="btn btn-primary mt-2">
    Confirm Payment
  </button>
</form>
{% endblock %}
